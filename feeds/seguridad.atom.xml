<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Blog Informático - Seguridad</title><link href="https://arpovea.vercel.app/" rel="alternate"></link><link href="https://arpovea.vercel.app/feeds/seguridad.atom.xml" rel="self"></link><id>https://arpovea.vercel.app/</id><updated>2020-10-15T00:00:00+02:00</updated><entry><title>Criptografía: GPG y OPENSSL</title><link href="https://arpovea.vercel.app/criptografia-gpg-y-openssl.html" rel="alternate"></link><published>2020-10-15T00:00:00+02:00</published><updated>2020-10-15T00:00:00+02:00</updated><author><name>Adrián Rodríguez Povea</name></author><id>tag:arpovea.vercel.app,2020-10-15:/criptografia-gpg-y-openssl.html</id><summary type="html">&lt;p&gt;Buenas! En esta ocasión se van a realizar una serie de pruebas con GPG y OPENSSL.&lt;/p&gt;</summary><content type="html">&lt;hr&gt;
&lt;p&gt;Buenas! En esta ocasión se van a realizar una serie de pruebas con GPG y OPENSSL.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;GPG&lt;/h2&gt;
&lt;h4&gt;Creación de claves pública y privada:&lt;/h4&gt;
&lt;p&gt;Para ello se realiza el siguiente comando, el cual te realizará una serie de preguntas:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --gen-key&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Si quieres crearla con mas detalles y diálogo realiza:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --full-generate-key&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al final mostrará algo como esto:&lt;/p&gt;
&lt;p&gt;&lt;img alt="clavepubl" src="https://arpovea.vercel.app/images/Criptografía/clavepublicaadri.png"&gt; &lt;/p&gt;
&lt;p&gt;Todo lo referente a las claves "GPG" esta en el directorio "~/.gnupg" de cada usuario.&lt;/p&gt;
&lt;p&gt;Para listar las claves públicas utiliza el comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --list-keys&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Los datos mostrados son:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;El tipo de clave y el sistema de criptografía que tiene. Por ejemplo "rsa4096".&lt;/li&gt;
&lt;li&gt;El uid, número que identifica la clave, para identificarla se pueden utilizar los últimos 8 dígitos.&lt;/li&gt;
&lt;li&gt;El nombre del propietario junto con su correo y comentario si dispone de él.&lt;/li&gt;
&lt;li&gt;Confianza que se tiene sobre esa clave.&lt;/li&gt;
&lt;li&gt;Fecha de validez si dispone de ella.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para darle fecha de validez a la clave, cuando se genera la clave con "gpg gen-key" o "gpg --full-generate-key" preguntará algo como esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;Por favor, especifique el período de validez de la clave.&lt;/span&gt;
&lt;span class="go"&gt;         0 = la clave nunca caduca&lt;/span&gt;
&lt;span class="go"&gt;      &amp;lt;n&amp;gt;  = la clave caduca en n días&lt;/span&gt;
&lt;span class="go"&gt;      &amp;lt;n&amp;gt;w = la clave caduca en n semanas&lt;/span&gt;
&lt;span class="go"&gt;      &amp;lt;n&amp;gt;m = la clave caduca en n meses&lt;/span&gt;
&lt;span class="go"&gt;      &amp;lt;n&amp;gt;y = la clave caduca en n años&lt;/span&gt;
&lt;span class="go"&gt;¿Validez de la clave (0)? 1M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En el ejemplo de arriba al final se le asignó 1 mes.&lt;/p&gt;
&lt;p&gt;Para ver las claves privadas:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --list-secret-keys&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Importar y Exportar claves públicas.&lt;/h4&gt;
&lt;p&gt;A continuación se mostrarán los comandos para exportar una clave pública en formato ASCII. Para ello:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;gpg&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="k"&gt;export&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;uid_o_nombre usuario&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;clavepublica&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;asc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como se muestra en la siguiente imagen:&lt;/p&gt;
&lt;p&gt;&lt;img alt="exportclavepub" src="https://arpovea.vercel.app/images/Criptografía/expportarclavepub.png"&gt; &lt;/p&gt;
&lt;p&gt;A continuación se mostrarán los comando para importar la clave de un compañero a nuestro anillo de claves:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;gpg&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pepito_perez.asc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como se muestra en la siguiente imagen:&lt;/p&gt;
&lt;p&gt;&lt;img alt="importpepito" src="https://arpovea.vercel.app/images/Criptografía/importpepito.png"&gt; &lt;/p&gt;
&lt;h4&gt;Cifrado y Descifrado de documentos&lt;/h4&gt;
&lt;p&gt;A continuación se muestran los comandos para cifrar y descifrar documentos:&lt;/p&gt;
&lt;p&gt;Para cifrar un documento:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg -e mensaje.txt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Esto pedirá el uid del destinatario en nuestro caso el de Pepito Pérez, en la siguiente imagen se muestra todo el proceso y el fichero "mensaje.txt.gpg":&lt;/p&gt;
&lt;p&gt;&lt;img alt="gpgcifrado" src="https://arpovea.vercel.app/images/Criptografía/gpgcifrado.png"&gt; &lt;/p&gt;
&lt;p&gt;También se puede utilizar el comando con argumentos para que no sea de forma interactiva:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg -e -u &amp;quot;Adrian Rodriguez&amp;quot; -r &amp;quot;pepito perez&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Cualquiera que no esté en la lista al crear el mensaje cifrado, no puede descifrarlo. Le lanzará un mensaje de error del estilo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;gpg&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;descifrado&lt;/span&gt; &lt;span class="n"&gt;fallido&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;No&lt;/span&gt; &lt;span class="n"&gt;secret&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Una vez Pepito tiene el mensaje cifrado utiliza:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg -o mensaje.txt -d mensaje.txt.gpg &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al realizar este comando si tiene contraseña, la pedirá y luego descifrará el mensaje. Como se muestra en la siguiente imagen:&lt;/p&gt;
&lt;p&gt;&lt;img alt="gpgdescrifrado" src="https://arpovea.vercel.app/images/Criptografía/decryptmens.png"&gt;&lt;/p&gt;
&lt;h4&gt;Borrar claves públicas o privadas:&lt;/h4&gt;
&lt;p&gt;Para borrar las claves públicas utiliza el comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --delete-key &amp;quot;uid_o_nombreusuario&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para borrar las claves privadas utiliza:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --delete-secret-key &amp;quot;uid_onombreusuario&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Exportar clave a un servidor público de claves PGP&lt;/h4&gt;
&lt;p&gt;Lo primero que se va a realizar es la clave de revocación por si existe algun problema con la clave, para ello:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg -gen-revoke &amp;quot;uid_o_nombreusuarito&amp;quot; &amp;gt; cert_revoc.asc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;También se puede utilizar:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --output cer_revoc.asc --gen-revoke &amp;quot;uid_o_nombreusuario&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al realizar estos comandos preguntará la razón de la revocación como se muestra a continuación:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;¿Crear un certificado de revocación para esta clave? (s/N) s&lt;/span&gt;
&lt;span class="err"&gt;Por favor elija una razón para la revocación:&lt;/span&gt;
&lt;span class="err"&gt;  0 = No se dio ninguna razón&lt;/span&gt;
&lt;span class="err"&gt;  1 = La clave ha sido comprometida&lt;/span&gt;
&lt;span class="err"&gt;  2 = La clave ha sido reemplazada&lt;/span&gt;
&lt;span class="err"&gt;  3 = La clave ya no está en uso&lt;/span&gt;
&lt;span class="err"&gt;  Q = Cancelar&lt;/span&gt;
&lt;span class="err"&gt;(Probablemente quería seleccionar 1 aquí)&lt;/span&gt;
&lt;span class="err"&gt;¿Su decisión? 1&lt;/span&gt;
&lt;span class="err"&gt;Introduzca una descripción opcional; acábela con una línea vacía:&lt;/span&gt;
&lt;span class="err"&gt;&amp;gt; &lt;/span&gt;
&lt;span class="err"&gt;Razón para la revocación: La clave ha sido comprometida&lt;/span&gt;
&lt;span class="err"&gt;(No se dió descripción)&lt;/span&gt;
&lt;span class="err"&gt;¿Es correcto? (s/N) s&lt;/span&gt;
&lt;span class="err"&gt;se fuerza salida con armadura ASCII.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para utilizar esto solo hay que importar el certificado generado y se anulará la clave, si está en un servidor público hay que volver a subirla una vez revocada.&lt;/p&gt;
&lt;p&gt;Una vez se ha generado el certificado de revocación estos son los comandos necesarios para subir tu clave pública a un servidor, en este caso "pgp.rediris.es":&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --keyserver gpg.rediris.es --send-keys D4BB0593 &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para importar una clave de un servidor:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;gpg --recv-keys --keyserver pgp.rediris.es D4BB0593&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En las siguientes imágenes se muestra como un usuario, sube la clave y otro importa esta clave desde el servidor:&lt;/p&gt;
&lt;p&gt;&lt;img alt="subirclaveserv" src="https://arpovea.vercel.app/images/Criptografía/subirclave.png"&gt;
&lt;img alt="importarclaveserv" src="https://arpovea.vercel.app/images/Criptografía/importarclave.png"&gt;&lt;/p&gt;
&lt;h2&gt;Cifrado OPENSSL&lt;/h2&gt;
&lt;p&gt;A continuación se muestran los comandos para crear una clave privada en openssl y generar una clave pública de la clave privada.&lt;/p&gt;
&lt;p&gt;Crear clave privada:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;openssl genrsa -out key.pem 2048&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Crear clave pública:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;openssl rsa -in key.pem -pubout -out key.public.pem&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se puede también encriptar la clave privada con una contraseña con el siguiente comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;openssl rsa -in key.pem -des3 -out enc-key.pem&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para cifrar un documento(Con la clave pública del destinatario):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;openssl rsautl -encrypt -inkey pub-key.pem -pubin -in mensaje.txt -out mensaje.txt.enc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para descifrar un mensaje sería lo mismo pero en el destinatario utilizando su clave privada:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;openssl rsautl -decrypt -inkey key.pem -in mensaje..txt.enc -out mensaje.txt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A continuación se muestra un ejemplo en las siguientes imagenes:&lt;/p&gt;
&lt;p&gt;&lt;img alt="openssl1" src="https://arpovea.vercel.app/images/Criptografía/openssl1.png"&gt;
&lt;img alt="openssl2" src="https://arpovea.vercel.app/images/Criptografía/openssl2.png"&gt;&lt;/p&gt;
&lt;p&gt;Como dato extra también es posible cifrar con la clave privada y que descifren con la clave pública aunque es menos utilizado:&lt;/p&gt;
&lt;p&gt;Cifrado con clave privada:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;openssl rsautl -inkey key.pem -in mensaje.txt -sign &amp;gt; mensaje.txt.enc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Descifrado con clave pública:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;openssl rsautl -inkey pub-key.pem -pubin -in mensaje.txt.enc -out mensaje.txt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="Seguridad"></category></entry><entry><title>RCLONE</title><link href="https://arpovea.vercel.app/rclone.html" rel="alternate"></link><published>2020-09-29T00:00:00+02:00</published><updated>2020-09-29T00:00:00+02:00</updated><author><name>Adrián Rodríguez Povea</name></author><id>tag:arpovea.vercel.app,2020-09-29:/rclone.html</id><summary type="html">&lt;p&gt;Buenas! En esta ocasión se va a utilizar la herramienta Rclone, como instalar, como configurar varios almacenamientos de la nube y distintas funcionalidades.&lt;/p&gt;</summary><content type="html">&lt;hr&gt;
&lt;p&gt;Buenas! En esta ocasión se va a utilizar la herramienta Rclone, como instalar, como configurar varios almacenamientos de la nube y distintas funcionalidades.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;RClone&lt;/h2&gt;
&lt;p&gt;Rclone es una herramienta que permite trabajar con los ficheros que esten almacenados en los distintos servicios de almacenamiento en la nube, puede gestionar y sincronizar los ficheros de los servicios desde la linea de comandos.&lt;/p&gt;
&lt;h3&gt;Instalación de Rclone&lt;/h3&gt;
&lt;p&gt;Esta herramienta esta disponible en los repositorios oficiales de Debian Buster, ya que se esta usando esa distribución en este ejemplo, para instalar esta herramienta se realiza:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt install rclone
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Configuración de los proveedores cloud&lt;/h3&gt;
&lt;p&gt;Se va a configurar dos proveedores cloud, cada proveedor utiliza distintas formas de hacerlo.&lt;/p&gt;
&lt;h4&gt;Configuración Dropbox&lt;/h4&gt;
&lt;p&gt;Desde el terminal ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone config
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Y elije la opción:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;n) New remote&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A continuación hay que facilitar los siguientes datos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un nombre con el que se va a identificar este proveedor. (En este caso dropbox)&lt;/li&gt;
&lt;li&gt;De la lista de proveedores elejir el que nos interesa. (Numero 8, que es Dropbox)&lt;/li&gt;
&lt;li&gt;Usuario y contraseña si se utiliza una API (En este caso se deja por defecto,es decir, haz un INTRO)&lt;/li&gt;
&lt;li&gt;Configuración avanzada. (En este caso se selecciona "No")&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En el terminal se vería así:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;dropbox&lt;/span&gt;
&lt;span class="k"&gt;Type&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="k"&gt;storage&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Enter&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Press&lt;/span&gt; &lt;span class="n"&gt;Enter&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="k"&gt;default&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;
&lt;span class="n"&gt;Choose&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="nb"&gt;number&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;below&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;or&lt;/span&gt; &lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;your&lt;/span&gt; &lt;span class="n"&gt;own&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
 &lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;Dropbox&lt;/span&gt;
   &lt;span class="err"&gt;\&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;dropbox&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="k"&gt;Storage&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;
&lt;span class="o"&gt;**&lt;/span&gt; &lt;span class="n"&gt;See&lt;/span&gt; &lt;span class="n"&gt;help&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dropbox&lt;/span&gt; &lt;span class="n"&gt;backend&lt;/span&gt; &lt;span class="k"&gt;at&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;rclone&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dropbox&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;

&lt;span class="n"&gt;Dropbox&lt;/span&gt; &lt;span class="n"&gt;App&lt;/span&gt; &lt;span class="n"&gt;Client&lt;/span&gt; &lt;span class="n"&gt;Id&lt;/span&gt;
&lt;span class="n"&gt;Leave&lt;/span&gt; &lt;span class="n"&gt;blank&lt;/span&gt; &lt;span class="n"&gt;normally&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Enter&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Press&lt;/span&gt; &lt;span class="n"&gt;Enter&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="k"&gt;default&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;
&lt;span class="n"&gt;client_id&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 
&lt;span class="n"&gt;Dropbox&lt;/span&gt; &lt;span class="n"&gt;App&lt;/span&gt; &lt;span class="n"&gt;Client&lt;/span&gt; &lt;span class="n"&gt;Secret&lt;/span&gt;
&lt;span class="n"&gt;Leave&lt;/span&gt; &lt;span class="n"&gt;blank&lt;/span&gt; &lt;span class="n"&gt;normally&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Enter&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Press&lt;/span&gt; &lt;span class="n"&gt;Enter&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="k"&gt;default&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;
&lt;span class="n"&gt;client_secret&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 
&lt;span class="n"&gt;Edit&lt;/span&gt; &lt;span class="n"&gt;advanced&lt;/span&gt; &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;Yes&lt;/span&gt;
&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;No&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;
&lt;span class="n"&gt;Remote&lt;/span&gt; &lt;span class="n"&gt;config&lt;/span&gt;
&lt;span class="n"&gt;Use&lt;/span&gt; &lt;span class="n"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;
 &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;Say&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="n"&gt;sure&lt;/span&gt;
 &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;Say&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;you&lt;/span&gt; &lt;span class="k"&gt;are&lt;/span&gt; &lt;span class="n"&gt;working&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;remote&lt;/span&gt; &lt;span class="k"&gt;or&lt;/span&gt; &lt;span class="n"&gt;headless&lt;/span&gt; &lt;span class="n"&gt;machine&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;Yes&lt;/span&gt;
&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;No&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Aqui hay dos opciones:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Si estas trabajando en local con entorno gráfico: Elige &lt;code&gt;y) Yes&lt;/code&gt;, esto provocará que se abra un navegador donde introducir la cuenta de dropbox que queremos asignar y dando permiso a rclone.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Si estas trabajando en remoto o sin entorno gráfico: Elige &lt;code&gt;n) No&lt;/code&gt;, esto pedirá que ejecutes en otra máquina que tenga entorno el comando:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone authorize &lt;span class="s2"&gt;&amp;quot;dropbox&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Esto provocará que salte un navegador donde se indicará la cuenta y que se autoriza a rclone como en la anterior opción con la diferencia de que una vez se haya autorizado hay que copiar un código que aparece en la terminal y pegarlo en la terminal de la máquina en la que estas trabajando con rclone. En la terminal:    &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;For&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;work&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;you&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;will&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;need&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;rclone&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;available&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;machine&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;that&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;has&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;web&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;browser&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;available&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;Execute&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;following&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;your&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;machine&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;rclone&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;authorize&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;dropbox&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;Then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;paste&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;result&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;below&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;result&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;access_token&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;f8wc24NV1XwAAAAAAAAAAeXRdjQ5u8pm5V7QBvec0OqzJjPkveFWN6UTGR8PDugG&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;token_type&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;bearer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;expiry&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;0001-01-01T00:00:00Z&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="o"&gt;--------------------&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;dropbox&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;access_token&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;f8wc24NV1XwAAAAAAAAAAeXRdjQ5u8pm5V7QBvec0OqzJjPkveFWN6UTGR8PDugG&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;token_type&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;bearer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;expiry&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;0001-01-01T00:00:00Z&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="o"&gt;--------------------&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Yes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;OK&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Edit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;remote&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;Delete&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;remote&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;Current&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;remotes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;

&lt;span class="n"&gt;Name&lt;/span&gt;&lt;span class="w"&gt;                 &lt;/span&gt;&lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="o"&gt;====&lt;/span&gt;&lt;span class="w"&gt;                 &lt;/span&gt;&lt;span class="o"&gt;====&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;dropbox&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;&lt;span class="n"&gt;dropbox&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al finalizar como se puede ver lista los proveedores configurados.&lt;/p&gt;
&lt;h3&gt;Configuración Google Drive&lt;/h3&gt;
&lt;p&gt;Básicamente es muy parecida a la de dropbox, se comentarán los cambios:&lt;/p&gt;
&lt;p&gt;De nuevo escribe el siguiente comando para iniciar la configuración:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone config
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Variaciones respecto a la configuración de Dropbox, aparte de que la elección en este caso será la (12):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Choose&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;number&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;below&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;your&lt;/span&gt; &lt;span class="n"&gt;own&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
 &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;Full&lt;/span&gt; &lt;span class="n"&gt;access&lt;/span&gt; &lt;span class="n"&gt;all&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;excluding&lt;/span&gt; &lt;span class="n"&gt;Application&lt;/span&gt; &lt;span class="n"&gt;Data&lt;/span&gt; &lt;span class="n"&gt;Folder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
   \ &lt;span class="s2"&gt;&amp;quot;drive&amp;quot;&lt;/span&gt;
 &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;Read&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;only&lt;/span&gt; &lt;span class="n"&gt;access&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;metadata&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;contents&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
   \ &lt;span class="s2"&gt;&amp;quot;drive.readonly&amp;quot;&lt;/span&gt;
   &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;Access&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="n"&gt;created&lt;/span&gt; &lt;span class="n"&gt;by&lt;/span&gt; &lt;span class="n"&gt;rclone&lt;/span&gt; &lt;span class="n"&gt;only&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
 &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;These&lt;/span&gt; &lt;span class="n"&gt;are&lt;/span&gt; &lt;span class="n"&gt;visible&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;drive&lt;/span&gt; &lt;span class="n"&gt;website&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
   &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;File&lt;/span&gt; &lt;span class="n"&gt;authorization&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="n"&gt;revoked&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="n"&gt;deauthorizes&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
   \ &lt;span class="s2"&gt;&amp;quot;drive.file&amp;quot;&lt;/span&gt;
   &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;Allows&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="n"&gt;access&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;Application&lt;/span&gt; &lt;span class="n"&gt;Data&lt;/span&gt; &lt;span class="n"&gt;folder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
 &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;This&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;visible&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;drive&lt;/span&gt; &lt;span class="n"&gt;website&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
   \ &lt;span class="s2"&gt;&amp;quot;drive.appfolder&amp;quot;&lt;/span&gt;
   &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;Allows&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;only&lt;/span&gt; &lt;span class="n"&gt;access&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;metadata&lt;/span&gt; &lt;span class="n"&gt;but&lt;/span&gt;
 &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;does&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;allow&lt;/span&gt; &lt;span class="n"&gt;any&lt;/span&gt; &lt;span class="n"&gt;access&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;download&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
   \ &lt;span class="s2"&gt;&amp;quot;drive.metadata.readonly&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;scope&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Aquí básicamente pide los permisos que se le van a conceder a rclone las opciones son:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Acceso completo excluyendo la carpeta de datos de aplicaciones.&lt;/li&gt;
&lt;li&gt;Acceso de solo lectura&lt;/li&gt;
&lt;li&gt;Acceso solo a los ficheros creados con Rclone&lt;/li&gt;
&lt;li&gt;Acceso completo incluyendo la carpeta de datos de aplicaciones.&lt;/li&gt;
&lt;li&gt;Acceso de solo lectura a los archivos metadata.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Luego preguntará por ID de root y un fichero de Json para el servicio de credenciales de la cuenta lo cual no hace falta, pulsa "INTRO" en terminal:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;ID of the root folder&lt;/span&gt;
&lt;span class="err"&gt;Leave blank normally.&lt;/span&gt;
&lt;span class="err"&gt;Fill in to access &amp;quot;Computers&amp;quot; folders. (see docs).&lt;/span&gt;
&lt;span class="err"&gt;Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).&lt;/span&gt;
&lt;span class="err"&gt;root_folder_id&amp;gt; &lt;/span&gt;
&lt;span class="err"&gt;Service Account Credentials JSON file path &lt;/span&gt;
&lt;span class="err"&gt;Leave blank normally.&lt;/span&gt;
&lt;span class="err"&gt;Needed only if you want use SA instead of interactive login.&lt;/span&gt;
&lt;span class="err"&gt;Enter a string value. Press Enter for the default (&amp;quot;&amp;quot;).&lt;/span&gt;
&lt;span class="err"&gt;service_account_file&amp;gt; &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Continuando pedirá las mismas opciones ya explicadas en el apartado de Dropbox finalizando sin problemas.&lt;/p&gt;
&lt;h3&gt;Opciones de Rclone&lt;/h3&gt;
&lt;p&gt;A continuación se verán las opciones mas usadas y útiles:&lt;/p&gt;
&lt;p&gt;Para listar los directorios:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone lsd remote-dir-name:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para listar los ficheros:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone ls remote-dir-name:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para copiar de origen a destino:(Puede ser entre dos proveedores de nube o entre un proveedor y una carpeta local).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone copy source:sourcepath dest:destpath
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para sincronizar datos entre origen y destino:(Como en el anterior puede ser entre proveedores o entre proveedor y carpeta local).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone sync source:path dest:path &lt;span class="o"&gt;[&lt;/span&gt;flags&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;En este cado la fuente(origen) sincroniza con el destino, cambiando solo lo que hay en destino, este método salta ficheros sin cambios, este comando puede causar la pérdida de datos por lo que es aconsejable usarlo con el [flag] "--dry-run" para ver que se copiará y eliminará.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para mover datos sería así:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone move source:path dest:path &lt;span class="o"&gt;[&lt;/span&gt;flags&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para crear un directorio:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone mkdir remote:path
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para borrar un directorio vacío:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone rmdir remote:path
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para borrar un directorio con contenido:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone purge remote:path
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para comprobar si los archivos entre origen y destino coinciden:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone check source:path dest:path
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para borrar ficheros:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone delete remote:path
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Cada uno de los comandos rclone se pueden usar con diferentes [flags] e incluyen su propio menú de ayuda. Por ejemplo, puede hacer una eliminación selectiva utilizando la opción de eliminar que elimina archivos mayores de 100M , el comando sería así:    &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone --min-size 100M delete remote:path
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Montar proveedor en una carpeta local y sincronizados.&lt;/h3&gt;
&lt;p&gt;Otra utilidad es la de montar las unidades del proveedor como unidad local. La información seguirá estando en la nube pero podemos trabajar con ella como si estuviera en local:&lt;/p&gt;
&lt;p&gt;Para esto hay que tener instalado el paquete "fuse" en la máquina local y tener agregado ya un servicio como se ha visto en pasos anteriores, en este caso se utilizará Google Drive:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt install fuse
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Crear un directorio local:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir Gdrive
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Montar el proveedor en la carpeta que se ha creado:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rclone mount --vfs-cache-mode writes Gdrive: Gdrive &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Una vez montado se podrá editar, crear y eliminar de forma local, y esto se sincronizará con la nube automáticamente.  &lt;br&gt;
A continuación se muestran unas capturas del montaje y borrado de un fichero en la terminal y como se borra en el proveedor, en este caso Google Drive.&lt;/p&gt;
&lt;p&gt;&lt;img alt="MontajeyBorradoTerminal" src="https://arpovea.vercel.app/images/Rclone/comandosmount.png"&gt; &lt;/p&gt;
&lt;p&gt;&lt;img alt="BorradoGoogleDrive" src="https://arpovea.vercel.app/images/Rclone/pruebaborrado.png"&gt;   &lt;/p&gt;
&lt;p&gt;Para desmontar utiliza fusermount con la opción -u sobre la carpeta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fusermount -u Gdrive
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Hay muchos mas comandos y utilidades si quieres saber mas consulta la documentación oficial &lt;a href="https://rclone.org/"&gt;aquí&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Muchas gracias por leer hasta aquí espero que haya servido de ayuda. Un saludo.&lt;/p&gt;</content><category term="Seguridad"></category></entry><entry><title>Tareas con RAID5</title><link href="https://arpovea.vercel.app/tareas-con-raid5.html" rel="alternate"></link><published>2020-09-28T00:00:00+02:00</published><updated>2020-09-28T00:00:00+02:00</updated><author><name>Adrián Rodríguez Povea</name></author><id>tag:arpovea.vercel.app,2020-09-28:/tareas-con-raid5.html</id><summary type="html">&lt;p&gt;Buenas! En esta ocasión vamos a realizar un RAID5 y vamos a realizar varias pruebas. Utilizaremos RAID software en Linux con &lt;code&gt;mdadm&lt;/code&gt;.&lt;/p&gt;</summary><content type="html">&lt;hr&gt;
&lt;p&gt;Buenas! En esta ocasión vamos a realizar un RAID5 y vamos a realizar varias pruebas. Utilizaremos RAID software en Linux con &lt;code&gt;mdadm&lt;/code&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Preparación para la tarea sobre RAID5&lt;/h2&gt;
&lt;p&gt;Para realizar esta tarea se va a utilizar una máquina virtual con vagrant-libvirt la configuración de vagrantfile es la siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- mode: ruby -*-&lt;/span&gt;
&lt;span class="c1"&gt;# vi: set ft=ruby :&lt;/span&gt;

&lt;span class="no"&gt;Vagrant&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;configure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
  &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;provider&lt;/span&gt; &lt;span class="ss"&gt;:libvirt&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;libvirt&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
    &lt;span class="n"&gt;libvirt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;storage&lt;/span&gt; &lt;span class="ss"&gt;:file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:size&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1G&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;libvirt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;storage&lt;/span&gt; &lt;span class="ss"&gt;:file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:size&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1G&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;libvirt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;storage&lt;/span&gt; &lt;span class="ss"&gt;:file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:size&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1G&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;libvirt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;storage&lt;/span&gt; &lt;span class="ss"&gt;:file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:size&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1G&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;libvirt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;storage&lt;/span&gt; &lt;span class="ss"&gt;:file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:size&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1G&amp;#39;&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
  &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;box&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;debian/buster64&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como podemos observar en el fichero agregamos 5 discos para realizar distintas pruebas a lo largo del ejercicio.&lt;/p&gt;
&lt;p&gt;Una vez iniciada la máquina deberías obtener con el comando &lt;code&gt;lsblk&lt;/code&gt; lo siguiente:&lt;/p&gt;
&lt;p&gt;&lt;img alt="lsblk" src="https://arpovea.vercel.app/images/TareaRAID5/lsblk.png"&gt;  &lt;/p&gt;
&lt;p&gt;Lo siguiente es instalar el paquete &lt;code&gt;mdadm&lt;/code&gt;, si no lo tenéis ya instalado en la máquina virtual:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt install -y mdadm
&lt;/pre&gt;&lt;/div&gt;


&lt;hr&gt;
&lt;h2&gt;Tareas RAID5&lt;/h2&gt;
&lt;h4&gt;Tarea 1: Crea una raid llamado "md5" con los discos que hemos conectado a la máquina. ¿Cuántos discos tienes que conectar? ¿Qué diferencia existe entre el RAID 5 y el RAID1?.&lt;/h4&gt;
&lt;p&gt;Para el RAID5 hay que conectar 3 discos, es decir tiene en total una capacidad de 2GB, para hacer esto utiliza el siguiente comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm -C /dev/md5 --level&lt;span class="o"&gt;=&lt;/span&gt;RAID5 --raid-devices&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; /dev/vdb /dev/vdc /dev/vdd
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Si realizas de nuevo un &lt;code&gt;lsblk&lt;/code&gt; obtendrás algo como esto:&lt;/p&gt;
&lt;p&gt;&lt;img alt="lsblk2" src="https://arpovea.vercel.app/images/TareaRAID5/lsblk2.png"&gt;&lt;/p&gt;
&lt;p&gt;La diferencia entre RAID5 y RAID1 es:&lt;/p&gt;
&lt;p&gt;En RAID5 los bloques estan distribuidos entre los 3 discos(los mínimos en RAID5) y soporta la pérdida total de unos de ellos, ya que distribuye la paridad entre los 3 dispositivos, pudiendo con dos recuperar toda la información.&lt;/p&gt;
&lt;p&gt;En RAID1 se utilizan dos discos y uno es una copia exacta del otro, tiene ventajas en velocidades de lectura, ya que se puede leer de los dos discos, pero tiene desventaja en la escritura ya debe escribir en ambos discos la misma información.&lt;/p&gt;
&lt;h4&gt;Tarea 2: Comprueba las características del RAID. Comprueba el estado del RAID. ¿Qué capacidad tiene el RAID que hemos creado?.&lt;/h4&gt;
&lt;p&gt;La capacidad es de 2GB, para comprobar el estado del RAID5 se consulta un fichero y para los detalles un comando: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Consultando el fichero &lt;code&gt;/etc/proc/mdstat&lt;/code&gt; para ver su estado:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo cat /proc/mdstat
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Consultando los detalles:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm -D /dev/md5
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En la siguiente imagen se pueden ver tanto el estado como los detalles:&lt;/p&gt;
&lt;p&gt;&lt;img alt="mdadmstatus" src="https://arpovea.vercel.app/images/TareaRAID5/comprobacionstadoraid.png"&gt;&lt;/p&gt;
&lt;h4&gt;Tarea 3: Crea un volumen lógico (LVM) de 500MB en el RAID5.&lt;/h4&gt;
&lt;p&gt;Para esto hay que añadir el RAID5 a los volúmenes físicos, crear un grupo de volúmenes que utilize ese dispositivo y luego crear el volumen lógico:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo pvcreate /dev/md5
sudo vgcreate tareas /dev/md5
sudo lvcreate tareas -L 500M -n tarea3
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Quedando como en la siguiente imagen:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Vlogico" src="https://arpovea.vercel.app/images/TareaRAID5/Vlogico.png"&gt;&lt;/p&gt;
&lt;h4&gt;Tarea 4: Formatea ese volumen con un sistema de archivo &lt;code&gt;xfs&lt;/code&gt;.&lt;/h4&gt;
&lt;p&gt;Realiza el siguiente comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mkfs.xfs /dev/tareas/tarea3
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Tarea 5: Monta el volumen en el directorio &lt;code&gt;/mnt/RAID5&lt;/code&gt; y crea un fichero. ¿Qué tendríamos que hacer para que este punto de montaje sea permanente?.&lt;/h4&gt;
&lt;p&gt;Para ello:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /mnt/RAID5
sudo mount -t xfs /dev/tareas/tarea3 /mnt/RAID5
touch /mnt/RAID5/fich.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para que fuera permanente tendrías que incluir este montaje en el fichero &lt;code&gt;fstab&lt;/code&gt;.    &lt;/p&gt;
&lt;h4&gt;Tarea 6: Marca un disco como estropeado. Muestra el estado del raid para comprobar que un disco falla. ¿Podemos acceder al fichero?.&lt;/h4&gt;
&lt;p&gt;Para marcar un disco, por ejemplo &lt;code&gt;vdb&lt;/code&gt; como fallido utiliza:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm --manage /dev/md5 --fail /dev/vdb
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Luego mira el estado con:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /proc/mdstat
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Mostrará algo similar a la siguiente imagen donde se observa que el disco esta marcado como fallido:&lt;/p&gt;
&lt;p&gt;&lt;img alt="fallovdb" src="https://arpovea.vercel.app/images/TareaRAID5/fallovdb.png"&gt;&lt;/p&gt;
&lt;p&gt;El fichero se puede seguir visualizando sin problema.&lt;/p&gt;
&lt;h4&gt;Tarea 7: Una vez marcado como estropeado, lo tenemos que retirar del raid.&lt;/h4&gt;
&lt;p&gt;Para ello utiliza el siguiente comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm --manage /dev/md5 --remove /dev/vdb
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Observamos de nuevo el estado del RAID5 y mostrará lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /etc/proc/mdstat
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="removevdb" src="https://arpovea.vercel.app/images/TareaRAID5/removevdb.png"&gt;&lt;/p&gt;
&lt;h4&gt;Tarea 8: Imaginemos que lo cambiamos por un nuevo disco nuevo (el dispositivo de bloque se llama igual), añádelo al array y&lt;/h4&gt;
&lt;p&gt;comprueba como se sincroniza con el anterior. &lt;/p&gt;
&lt;p&gt;Para ello en este caso con un nuevo disco "vde":&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm --manage /dev/md5 --add /dev/vde
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Automáticamente se sincroniza con el raid, observa los cambios con:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;lsblk
cat /proc/mdstat
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Obteniendo algo similar a lo siguiente:&lt;/p&gt;
&lt;p&gt;&lt;img alt="agregandovde" src="https://arpovea.vercel.app/images/TareaRAID5/agregandovde.png"&gt;&lt;/p&gt;
&lt;h4&gt;Tarea 9: Añade otro disco como reserva. Vuelve a simular el fallo de un disco y comprueba como automáticamente se realiza la sincronización con el disco de reserva.&lt;/h4&gt;
&lt;p&gt;Realiza los siguiente comandos para añadir el disco como reserva:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mdadm --manage /dev/md5 -add /dev/vdf
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Puedes comprobar que se ha añadido como "SPARE" comprobando el estado o los detalles del RAID5 con los siguientes comandos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm -D /dev/md5
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;O&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /proc/mdstat
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora vuelve a marcar otro dispositivo como fallido esta vez &lt;code&gt;vdc&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm --manage /dev/md5 --fail /dev/vdc
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como podemos ver en la siguiente imagen el disco pasa de SPARE (S) a activo y el otro se marca como FAIL (F)&lt;/p&gt;
&lt;p&gt;&lt;img alt="SPAREautilizado" src="https://arpovea.vercel.app/images/TareaRAID5/SPAREautilizado.png"&gt;&lt;/p&gt;
&lt;p&gt;Como repunte, si quisieras que el disco se agrege como dispositivo adicional para aumentar las dimesiones del raid, después de agregarlo, realiza el siguiente comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm --grow /dev/md5 --raid-devices&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Y luego aumentar el raid a la máxima capacidad disponible con:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mdadm --grow /dev/md5 -z max
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Tarea 10: Redimensiona el volumen y el sistema de archivo de 500MB al tamaño del raid.&lt;/h4&gt;
&lt;p&gt;Con los siguientes comandos podras redimensionar el volumen y luego redimensionar el sistema de ficheros:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo lvextend -L +1.5G /dev/tareas/tarea3 
sudo xfs_growfs /mnt/RAID5/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Recalcar que con &lt;code&gt;xfs&lt;/code&gt;se puede realizar esta acción en caliente con otros sistemas de ficheros podría ocasionar errores o pérdida de datos.&lt;/p&gt;
&lt;p&gt;Al finalizar todas las tareas en este orden la orden &lt;code&gt;lsblk -f&lt;/code&gt; debería mostrar algo así:&lt;/p&gt;
&lt;p&gt;&lt;img alt="lsblkfinal" src="https://arpovea.vercel.app/images/TareaRAID5/lsblkfinal.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Muchas gracias por leer hasta aquí espero que haya servido de ayuda. Un saludo.    &lt;/p&gt;</content><category term="Seguridad"></category></entry></feed>